<!-- app/views/restaurants/_form.html.erb -->
<%= simple_form_for @restaurant do |f| %>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="space-y-4">
      <div>
        <%= f.label :name, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :name, label: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :description, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :description, as: :text, label: false, input_html: { rows: 5, class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :address, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :address, label: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :phone, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :phone, label: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :website, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :website, label: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>
    </div>

    <div class="space-y-4">
      <div>
        <%= f.label :category, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :category, collection: ['Fine Dining', 'Casual', 'Fast Food', 'CafÃ©', 'Bistro', 'Brasserie', 'Seafood', 'Steakhouse', 'Pizzeria', 'Other'], label: false, include_blank: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :price_level, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.input :price_level, collection: ['$', '$$', '$$$', '$$$$'], label: false, include_blank: false, input_html: { class: "w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200" } %>
      </div>

      <div>
        <%= f.label :image, class: "block text-sm font-medium text-gray-700 mb-1" %>
        <div class="mt-1 flex items-center">
          <% if @restaurant.image.attached? %>
            <div class="relative">
              <%= image_tag @restaurant.image.variant(resize_to_fit: [100, 100]), class: "h-24 w-24 object-cover rounded" %>
              <div class="absolute inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity rounded">
                <span class="text-white text-xs">Change</span>
              </div>
            </div>
          <% else %>
            <span class="h-24 w-24 overflow-hidden bg-gray-100 rounded flex items-center justify-center">
              <i class="fas fa-utensils text-gray-300 text-3xl"></i>
            </span>
          <% end %>
          <div class="ml-4">
            <%= f.input :image, as: :file, label: false, input_html: { class: "focus:outline-none" } %>
            <p class="text-xs text-gray-500 mt-1">PNG, JPG, JPEG up to 5MB</p>
          </div>
        </div>
      </div>

      <div class="bg-blue-50 p-4 rounded-lg mt-6">
        <h3 class="font-medium text-blue-900 mb-2">QR Code Integration</h3>
        <p class="text-sm text-gray-600 mb-4">Once you save this restaurant, you can generate a QR code that links directly to this restaurant page.</p>
        <p class="text-sm text-gray-600">The QR code can be used in menus, on tabletops, or in promotional materials to help customers easily access information about your restaurant.</p>
      </div>
    </div>
  </div>

  <div class="mt-8 flex justify-end space-x-3">
    <%= link_to "Cancel", @restaurant.persisted? ? restaurant_path(@restaurant) : restaurants_path, class: "px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50" %>
    <%= f.button :submit, class: "px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700" %>
  </div>
<% end %>
